# PHP GSM API

A simple PHP5 Object Oriented wrapper for GlobalSportsMedia (GSM) XML API.

See [http://client.globalsportsmedia.com/documentation](http://client.globalsportsmedia.com/documentation)

## Features

* Follows PSR-0 conventions and coding standard: autoload friendly
* API entry points implementation state :
 * OK soccer
 * OK am_football
 * OK aus_football
 * OK baseball
 * OK basketball
 * OK cricket
 * OK golf
 * OK handball
 * OK hockey
 * OK motorsports
 * OK rugby
 * OK tennis
 * OK volleyball

## Requirements

* PHP >= 5.4 with [cURL](http://php.net/manual/en/book.curl.php) extension,

## Install

Through [composer](http://getcomposer.org/download/), simply run :

```bash
$ php composer.phar require kbsali/gsm-api:1.*
```

## Basic usage of `php-gsm-api` client

All the methods return a [SimpleXmlElement](http://php.net/manual/es/class.simplexmlelement.php) object or throw an Exception in case of error.
Following the basic workflow documented in [globalsportsmedia.com](http://client.globalsportsmedia.com/documentation/soccer) for working with Soccer data :

```php
<?php

// This file is generated by Composer
require_once 'vendor/autoload.php';

$client = new GlobalSportsMedia\Client('http://webpull.globalsportsmedia.com', 'USERNAME', 'PASSWORD');
$client
    ->setUseCache(true) // for live method (like get_matches_live_updates) you might want to disable caching
    ->setCacheDir(__DIR__.'/cache') // path where xml responess will be cached
;

try {
    $seasons = $client->api('soccer')->get_seasons(['authorized' => 'yes']);
    foreach ($seasons->competition as $competition) {
        foreach ($competition->season as $season) {
            $matches = $client->api('soccer')->get_matches(
                (int) $season['season_id'],
                'season',
                ['detailed' => 'yes', 'start_date' => date('Y-m-d H:00:00')]
            );
            // process matches...
        }
    }
} catch(\Exception $e) {
    die($e->getMessage());
}
```

